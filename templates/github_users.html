<!DOCTYPE html>
<html>
<head>
	<title>Github Users</title>
	<style type="text/css">
		.user{
			display:block;
			background: #eee;
			padding:2%;
			margin-bottom: 2%;
		}

		.user ul{
			list-style: none;
		}
	</style>
</head>
<body>
	<button id="btn">Load User</button>
	<h1>Github Users- External API</h1>

	<div id="users"></div>	



<script type="text/javascript">

	document.querySelector("#btn").addEventListener("click",loadUsers);

	function loadUsers()
	{
		// alert("okay");
		console.log('test');
		var xhr = new XMLHttpRequest();
		xhr.open("GET", "https://api.github.com/users", true);

		xhr.onload=loadAll;

		function loadAll()
		{
			var users=JSON.parse(xhr.responseText);
			console.log(users);

			output=""

			for (var i in users)
			{
				output+=`<div class="user">`+
				`<img src="${users[i].avatar_url}" width="100" height="100"><br>`+
				`<ul>`+
				`<li> Login: ${users[i].id}</li>`+
				`<li> Login: ${users[i].login}</li>`+
				`</ul>`+
				`</div>`;
				
			}

			document.querySelector("#users").innerHTML=output;
		}



		xhr.send();

	}
	  

	
</script>

</body>
</html>